<!DOCTYPE html>
<html>
<head>
	<meta charset="utr-8" />
	<title>lineRandom</title>
	<style> * { padding: 20; margin:20; }
				canvas { background: white;
				display: block;
				margin: 0 auto; 
				opacity: 0.3;
				}
	</style>
</head>

<body>
	<canvas id="randomCanvas" width="900" height="600"></canvas>
	
	<script>
	var canvas = document.getElementById("randomCanvas");
	var context = canvas.getContext("2d");
	var ballRadius = 30;
	var x = canvas.width / 2;
	var y = canvas.height -30; 
	var dx = 2;
	var dy = -2;
	
	function drawBall() {
		context.beginPath();
		context.arc(x,y,30, 0,Math.PI*2);
		context.fillStyle = null;
		context.fill();
		context.closePath();
	}
	
	function draw() {
		//context.clearRect(0,0,canvas.width,canvas.height);   //この一行で線描タイプ
		drawBall();
		
		if(x + dx > canvas.width-ballRadius+5 || x + dx < ballRadius-5) {
			dx = -dx;
			context.fillStyle = getRandomColor();
		}
		
		if (y + dy > canvas.height-ballRadius+5 || y + dy <ballRadius-5) {
			dy = -dy;
			context.fillStyle = getRandomColor();
		}
		x += dx;
		y += dy;
	  }
	  
	  function getRandomColor() {//ボールの時のランダム
	  //	var letters = '0123456789ABCDEF'.split('');
	  //	var color = '#';
	  //	for ( var i = 0; i< 6; i++) {
	  //		color += letters[Math.floor(Math.random() *16)];
	  //	}
	  //	return color;
	 // }
	  
	  var randomColor = "#";
for(var i  =0; i < 6; i++) {
    randomColor += "0123456789abcdef"[16 * Math.random() | 0]
}
return randomColor;
 }

	  setInterval(draw,30);
	  
	  </script>
</body>
</html>
